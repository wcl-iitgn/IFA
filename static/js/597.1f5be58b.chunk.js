"use strict";(self.webpackChunkdrought_atlas=self.webpackChunkdrought_atlas||[]).push([[597],{1597:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});var l=s(5043),t=s(9419),n=s(4867),r=(s(228),s(6433),s(20),s(9552),s(9762)),o=s(6422),i=s(1228),c=s(6759),d=s(4684),p=s(2924),u=s(9455),m=s(8343),x=s(6262),h=s(579);const j=()=>(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"legend",children:[(0,h.jsx)("div",{className:"item-heading",children:(0,h.jsx)("p",{children:"Historical Max. Flooded Area (%)"})}),(0,h.jsxs)("div",{className:"legend-color",children:[(0,h.jsx)("i",{style:{backgroundColor:"#F7FBFF"}}),(0,h.jsx)("i",{style:{backgroundColor:"#E4EFF9"}}),(0,h.jsx)("i",{style:{backgroundColor:"#D1E2F3"}}),(0,h.jsx)("i",{style:{backgroundColor:"#BAD6EB"}}),(0,h.jsx)("i",{style:{backgroundColor:"#73B2D8"}}),(0,h.jsx)("i",{style:{backgroundColor:"#539DCC"}}),(0,h.jsx)("i",{style:{backgroundColor:"#3585BF"}}),(0,h.jsx)("i",{style:{backgroundColor:"#1E6CB1"}}),(0,h.jsx)("i",{style:{backgroundColor:"#08519C"}}),(0,h.jsx)("i",{style:{backgroundColor:"#09306B"}})]}),(0,h.jsxs)("div",{className:"legend-item",children:[(0,h.jsx)("p",{className:"legend-num-value",children:" 0"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 0.1"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 0.25"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 0.5"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 1"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 2"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 5"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 10"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 15"}),(0,h.jsx)("p",{className:"legend-num-value",children:" 30"})]})]})}),g=()=>{const[e,a]=(0,l.useState)(""),[s,g]=(0,l.useState)([]),[b,f]=(0,l.useState)([]),[N,v]=(0,l.useState)(null),[S,C]=(0,l.useState)([]),[D,A]=(0,l.useState)(!1),[T,y]=(0,l.useState)(null),[F,k]=(0,l.useState)(null);(0,l.useEffect)((()=>{if(e){(async()=>{try{A(!0);const a="".concat(e.replace(" ","_"),"_max_flood_area_frac.json"),s=await fetch("https://wcl-iitgn.github.io/india-flood-atlas-data/".concat(a)),l=await s.json();y(l),"District Wise"===e?k(p):"State Wise"===e&&k(u),A(!1)}catch(a){console.error("Error fetching and filtering wind data:",a)}})()}}),[e]);const _=e=>e>30?"#09306B":e>15?"#08519C":e>10?"#1E6CB1":e>5?"#3585BF":e>2?"#539DCC":e>1?"#73B2D8":e>.5?"#BAD6EB":e>.25?"#D1E2F3":e>.1?"#E4EFF9":"#F7FBFF";return(0,h.jsx)("div",{className:"dasboard_page_container",children:(0,h.jsxs)("div",{className:"main_dashboard",children:[(0,h.jsxs)("div",{className:"left_panel",children:[(0,h.jsx)("div",{className:"border border-secondary p-2 mb-2",children:(0,h.jsx)(r.A,{value:e,onChange:(e,s)=>{a(s),v(null),v(null)},id:"session",options:["State Wise","District Wise"],renderInput:e=>(0,h.jsx)(o.A,{...e,className:"form-select mb-3",label:"Select Dataset"})})}),(0,h.jsxs)("div",{className:"border border-secondary p-2 mb-2",children:[(0,h.jsx)("label",{className:"form-label",children:"Filter Data:"}),(0,h.jsx)(r.A,{style:{marginBottom:"20px"},onChange:(e,a)=>((e,a)=>{let s=p.features.filter((e=>e.properties.STATE===a));s=[...new Set(s.map((e=>e)))],s.sort(),g(s),f(a);let l=F.features.filter((e=>e.properties.STATE===a));v({type:"FeatureCollection",features:l})})(0,a),id:"state",getOptionLabel:e=>"".concat(e),options:[...new Set(u.features.map((e=>e.properties.STATE)))],isOptionEqualToValue:(e,a)=>e.Name===a.Name,noOptionsText:"No Available Data",disabled:!e,renderOption:(e,a)=>(0,l.createElement)(i.A,{component:"li",...e,key:a,sx:{fontSize:"14px"}},a),renderInput:e=>(0,h.jsx)(o.A,{...e,label:"Search State"})}),"District Wise"===e&&(0,h.jsx)(r.A,{style:{marginBottom:"20px"},onChange:(e,a)=>((e,a)=>{C(a);let s=p.features.filter((e=>e.properties.DISTRICT===a&&e.properties.STATE===b));v({type:"FeatureCollection",features:s})})(0,a),id:"district",getOptionLabel:e=>"".concat(e),options:[...new Set(s.map((e=>e.properties.DISTRICT)))],isOptionEqualToValue:(e,a)=>e.Name===a.Name,noOptionsText:"No Available Data",disabled:0===s.length,renderOption:(e,a)=>(0,l.createElement)(i.A,{component:"li",...e,key:a,sx:{fontSize:"14px"}},a),renderInput:e=>(0,h.jsx)(o.A,{...e,label:"Search District"})})]})]}),(0,h.jsxs)("div",{className:"right_panel",children:[(0,h.jsxs)(t.W,{fullscreenControl:!0,center:m.MV,style:{width:"100%",height:"100%",backgroundColor:"white",border:"none",margin:"auto"},zoom:(0,m.I6)(),maxBounds:m.Se,minZoom:(0,m.I6)(),keyboard:!1,dragging:(0,m.Q4)(),doubleClickZoom:!1,children:[(0,h.jsx)(d.A,{}),N&&(0,h.jsx)(x.A,{selectedState:b,selectedDistrict:S,filteredIndiaDistrict:N}),e&&F&&(0,h.jsx)(n.k,{style:e=>{const a=(e=>{const a=T&&T.find((a=>a.ID===e));return a?a.MaxFraction:null})(e.properties.ID);return{fillColor:_(a),weight:1,opacity:1,color:"black",dashArray:"2",fillOpacity:1}},data:F,onEachFeature:function(a,s){T&&(s.on("mouseover",(function(l){const t=T&&T.find((e=>e.ID===a.properties.ID));if(a.properties&&a.properties.ID){let l;"District Wise"===e?l="\n              <div>\n                ID: ".concat(a.properties.ID,"<br/>\n                DISTRICT: ").concat(a.properties.DISTRICT,"<br/>\n                STATE: ").concat(a.properties.STATE,"<br/>\n                Historical Max. Flooded Area:  ").concat(t?t.MaxArea:null," km\xb2<br/>\n                Historical Max. Flooded Area (%): ").concat(t?t.MaxFraction:null,"<br/>\n              </div>\n            "):"State Wise"===e&&(l="\n              <div>\n                ID: ".concat(a.properties.ID,"<br/>\n                STATE: ").concat(a.properties.STATE,"<br/>\n                Historical Max. Flooded Area:  ").concat(t?t.MaxArea:null," km\xb2<br/>\n                Historical Max. Flooded Area (%): ").concat(t?t.MaxFraction:null,"<br/>\n              </div>\n            ")),s.bindTooltip(l,{sticky:!0})}s.openTooltip()})),s.on("mouseout",(function(){s.closeTooltip()})))}},e+F.features.length),e&&(0,h.jsx)("div",{className:"legend-panel-desktop",children:(0,h.jsx)(j,{})}),(0,h.jsx)(c.A,{})]}),e&&(0,h.jsx)("div",{className:"legend-panel-mobile",children:(0,h.jsx)(j,{})}),D&&(0,h.jsx)("div",{className:"map_layer_loader_container_desktop",children:(0,h.jsx)("div",{className:"map_loader_container",children:(0,h.jsx)("span",{className:"map_loader"})})})]}),D&&(0,h.jsx)("div",{className:"map_layer_loader_container_mobile",children:(0,h.jsx)("div",{className:"map_loader_container",children:(0,h.jsx)("span",{className:"map_loader"})})})]})})}}}]);
//# sourceMappingURL=597.1f5be58b.chunk.js.map